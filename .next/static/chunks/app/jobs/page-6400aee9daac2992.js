(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[109],{5699:function(e,t,a){Promise.resolve().then(a.bind(a,6287))},6287:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return d}});var s=a(7437),r=a(2265),l=a(1396),n=a.n(l),i=a(2749);function d(){let{data:e}=(0,i.useSession)(),[t,a]=(0,r.useState)([]),[l,d]=(0,r.useState)(!0),[c,o]=(0,r.useState)(""),[x,u]=(0,r.useState)({type:"",location:""});(0,r.useEffect)(()=>{m()},[x]);let m=async()=>{try{let e=new URLSearchParams;x.type&&e.append("type",x.type),x.location&&e.append("location",x.location);let t=await fetch("/api/jobs?".concat(e));if(!t.ok)throw Error("获取职位信息失败");let s=await t.json();a(s)}catch(e){o(e.message)}finally{d(!1)}};return(0,s.jsxs)("div",{className:"max-w-7xl mx-auto py-12 px-4 sm:px-6 lg:px-8",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-8",children:[(0,s.jsx)("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"求职信息"}),e&&(0,s.jsx)(n(),{href:"/jobs/new",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 dark:bg-blue-500 dark:hover:bg-blue-600",children:"发布职位"})]}),(0,s.jsxs)("div",{className:"mb-8 grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-3",children:[(0,s.jsxs)("select",{value:x.type,onChange:e=>u({...x,type:e.target.value}),className:"block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm rounded-md dark:bg-gray-800 dark:border-gray-600 dark:text-white",children:[(0,s.jsx)("option",{value:"",children:"所有类型"}),(0,s.jsx)("option",{value:"全职",children:"全职"}),(0,s.jsx)("option",{value:"兼职",children:"兼职"}),(0,s.jsx)("option",{value:"实习",children:"实习"})]}),(0,s.jsxs)("select",{value:x.location,onChange:e=>u({...x,location:e.target.value}),className:"block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm rounded-md dark:bg-gray-800 dark:border-gray-600 dark:text-white",children:[(0,s.jsx)("option",{value:"",children:"所有地区"}),(0,s.jsx)("option",{value:"中国",children:"中国"}),(0,s.jsx)("option",{value:"美国",children:"美国"}),(0,s.jsx)("option",{value:"德国",children:"德国"})]})]}),l?(0,s.jsx)("div",{className:"text-center text-gray-600 dark:text-gray-400",children:"加载中..."}):c?(0,s.jsx)("div",{className:"text-center text-red-600 dark:text-red-400",children:c}):0===t.length?(0,s.jsx)("div",{className:"text-center text-gray-600 dark:text-gray-400",children:"暂无职位信息"}):(0,s.jsx)("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:t.map(e=>(0,s.jsxs)(n(),{href:"/jobs/".concat(e._id),className:"block p-6 bg-white dark:bg-gray-800 rounded-lg shadow-md hover:shadow-lg transition-shadow",children:[(0,s.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,s.jsx)("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:e.title}),(0,s.jsx)("span",{className:"px-2 py-1 text-sm text-blue-800 dark:text-blue-200 bg-blue-100 dark:bg-blue-900 rounded",children:e.type})]}),(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsx)("p",{className:"text-gray-600 dark:text-gray-300 mb-2",children:e.company}),(0,s.jsx)("p",{className:"text-gray-500 dark:text-gray-400 text-sm",children:e.location})]}),(0,s.jsxs)("div",{className:"flex justify-between items-center text-sm",children:[(0,s.jsx)("span",{className:"text-gray-500 dark:text-gray-400",children:new Date(e.createdAt).toLocaleDateString()}),(0,s.jsx)("span",{className:"font-medium text-blue-600 dark:text-blue-400",children:e.salary})]})]},e._id))})]})}}},function(e){e.O(0,[250,674,971,938,744],function(){return e(e.s=5699)}),_N_E=e.O()}]);